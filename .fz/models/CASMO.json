{
    "id": "CASMO",
    "varprefix": "$",
    "formulaprefix": "@",
    "delim": "{}",
    "commentline": "*",
    "output": {
        "burnup": "ls *_dep.out >/dev/null 2>&1 && awk '/Burnup.*K-inf.*K-inf.*M2/{getline; flag=1; next} flag && /^[[:space:]]*$/{exit} flag && /^[[:space:]]+[0-9]+/ {if (NF > 10) print $8; else print $2}' *_dep.out 2>/dev/null | awk 'BEGIN{print \"[\"; c=0} {if (c>0) printf \",\"; printf \"%s\", $0; c++} END{print \"]\"}' || grep '2D k-infinity:' *.out 2>/dev/null | tail -1 | awk '{print $3}'",
        "k_inf": "ls *_dep.out >/dev/null 2>&1 && awk '/Burnup.*K-inf.*K-inf.*M2/{getline; flag=1; next} flag && /^[[:space:]]*$/{exit} flag && /^[[:space:]]+[0-9]+/ {if (NF > 10) print $9; else print $3}' *_dep.out 2>/dev/null | awk 'BEGIN{print \"[\"; c=0} {if (c>0) printf \",\"; printf \"%s\", $0; c++} END{print \"]\"}' || grep '2D k-infinity:' *.out 2>/dev/null | tail -1 | sed -E 's/.*2D k-infinity:[[:space:]]+([0-9.]+).*/\\1/'",
        "m2": "ls *_dep.out >/dev/null 2>&1 && awk '/Burnup.*K-inf.*K-inf.*M2/{getline; flag=1; next} flag && /^[[:space:]]*$/{exit} flag && /^[[:space:]]+[0-9]+/ {if (NF > 10) print $11; else print $5}' *_dep.out 2>/dev/null | awk 'BEGIN{print \"[\"; c=0} {if (c>0) printf \",\"; printf \"%s\", $0; c++} END{print \"]\"}' || grep 'Diff1' *.out 2>/dev/null | tail -1 | awk '{print $NF}'",
        "u235_wt_pct": "ls *_dep.out >/dev/null 2>&1 && awk '/Burnup.*K-inf.*K-inf.*M2/{getline; flag=1; next} flag && /^[[:space:]]*$/{exit} flag && /^[[:space:]]+[0-9]+/ {if (NF > 10) print $13; else print $7}' *_dep.out 2>/dev/null | awk 'BEGIN{print \"[\"; c=0} {if (c>0) printf \",\"; printf \"%s\", $0; c++} END{print \"]\"}' || grep 'Weight percent U-235' *.out 2>/dev/null | tail -1 | sed -E 's/.*Weight percent U-235[^=]*=[[:space:]]*([0-9.]+).*/\\1/'",
        "fissile_pu_wt_pct": "ls *_dep.out >/dev/null 2>&1 && awk '/Burnup.*K-inf.*K-inf.*M2/{getline; flag=1; next} flag && /^[[:space:]]*$/{exit} flag && /^[[:space:]]+[0-9]+/ {if (NF > 10) print $14; else print $8}' *_dep.out 2>/dev/null | awk 'BEGIN{print \"[\"; c=0} {if (c>0) printf \",\"; printf \"%s\", $0; c++} END{print \"]\"}' || echo '0'",
        "total_pu_wt_pct": "ls *_dep.out >/dev/null 2>&1 && awk '/Burnup.*K-inf.*K-inf.*M2/{getline; flag=1; next} flag && /^[[:space:]]*$/{exit} flag && /^[[:space:]]+[0-9]+/ {if (NF > 10) print $15; else print $9}' *_dep.out 2>/dev/null | awk 'BEGIN{print \"[\"; c=0} {if (c>0) printf \",\"; printf \"%s\", $0; c++} END{print \"]\"}' || echo '0'",
        "pin_power_peak": "ls *_dep.out >/dev/null 2>&1 && awk '/Burnup.*K-inf.*K-inf.*M2/{getline; flag=1; next} flag && /^[[:space:]]*$/{exit} flag && /^[[:space:]]+[0-9]+/ {if (NF > 10) print $12; else print $6}' *_dep.out 2>/dev/null | awk 'BEGIN{print \"[\"; c=0} {if (c>0) printf \",\"; printf \"%s\", $0; c++} END{print \"]\"}' || grep 'Power Distribution' *.out 2>/dev/null | sed -E 's/.*Peak: LL = ([0-9.]+).*/\\1/' | tail -1",
        "pin_power": "grep -h -A 17 'Power Distribution' *.out 2>/dev/null | grep -v 'Power Distribution' | grep -v '^--$' | grep -v '^\\s*$' | tail -17 | sed 's/\\*//g' | awk 'NF>0 {lines[++n]=$0} END {print \"[\"; for(i=1;i<=n;i++) {printf \"[\"; split(lines[i],a); for(j=1;j<=length(a);j++) printf \"%s%s\", a[j], (j<length(a)?\",\":\"\"); printf \"]%s\\n\", (i<n?\",\":\"\")} print \"]\"}'",
        "pin_exposure": "grep -h -A 17 'Burnup in MWd/kg' *.out 2>/dev/null | grep -v 'Burnup in MWd/kg' | grep -v '^--$' | grep -v '^\\s*$' | tail -17 | awk 'NF>0 {lines[++n]=$0} END {print \"[\"; for(i=1;i<=n;i++) {printf \"[\"; split(lines[i],a); for(j=1;j<=length(a);j++) printf \"%s%s\", a[j], (j<length(a)?\",\":\"\"); printf \"]%s\\n\", (i<n?\",\":\"\")} print \"]\"}'",
        "decay_constants": "grep 'Decay Constants:' *.out 2>/dev/null | tail -1 | awk '{printf \"[\"; for(i=4; i<=9; i++) printf \"%s%s\", $i, (i<9?\",\":\"\"); print \"]\"}'",
        "beta_eff": "grep '(Beta Eff.)' *.out | tail -1 | sed -E 's/.*[[:space:]]([0-9]+\\.[0-9]+)[[:space:]]+\\(Beta Eff\\.\\).*/\\1/'",
        "neutron_generation_time": "grep 'Mean Neutron Generation Time' *.out | tail -1 | sed -E 's/.*:[[:space:]]+([0-9.E+-]+).*/\\1/'",
        "dep_target": "grep -E '^[[:space:]]*DEP[[:space:]]+' *.inp 2>/dev/null | head -1 | sed -E 's/.*DEP[[:space:]]+(-)?([0-9.]+).*/\\2/' || echo '0'",
        "num_burnup_steps": "ls *_dep.out >/dev/null 2>&1 && awk '/Burnup.*K-inf.*K-inf.*M2/{getline; flag=1; next} flag && /^[[:space:]]*$/{exit} flag && /^[[:space:]]+[0-9]+/ {count++} END{print count}' *_dep.out 2>/dev/null || echo '1'",
        "hist_void": "grep 'HVOI=' *.out 2>/dev/null | tail -1 | sed -E 's/.*HVOI=[[:space:]]*([0-9.]+).*/\\1/' || grep 'Void' *.out 2>/dev/null | tail -1 | awk '{print $2}'",
        "hist_tfu": "grep 'HTFU=' *.out 2>/dev/null | tail -1 | sed -E 's/.*HTFU=[[:space:]]*([0-9.]+).*/\\1/' || grep 'TFU' *.out 2>/dev/null | head -1 | awk '{print $2}'",
        "hist_tmo": "grep 'HTMO=' *.out 2>/dev/null | tail -1 | sed -E 's/.*HTMO=[[:space:]]*([0-9.]+).*/\\1/' || grep 'TMO' *.out 2>/dev/null | head -1 | awk '{print $2}'",
        "hist_bor": "grep 'HBOR=' *.out 2>/dev/null | tail -1 | sed -E 's/.*HBOR=[[:space:]]*([0-9.]+).*/\\1/' || grep 'BOR' *.out 2>/dev/null | head -1 | awk '{print $2}'"
    }
}
